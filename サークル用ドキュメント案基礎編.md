<!-- markdownlint-disable MD033 -->
# サークル用開発支援ドキュメント【基礎編】

プログラムに関する基礎を補うためのドキュメント。プログラミング経験が無い、もしくは多少やったが理解していない人が対象。

## まず始める前に

`PCをほとんどいじったことが無く、プログラミングをこれから始める人で、Windows OSを使用している場合はこの作業を行ってください。`

開発者というのは、自分で調べる力が必要になってきます。GoogleやYahoo等の検索サービスを利用したり、書籍を参考にしたり等、色々な方法があります。  
そこでまず、調べる習慣をつけるために、「エクスプローラー内でファイル名拡張子と隠しファイルを表示する」方法を調べてもらいます。
もし「エクスプローラー」等の単語がわからない場合は、その単語から調べてください。

最終的に、エクスプローラー内で「ProgramData」等の普通のフォルダと色の異なる物が見える状態と、ファイルの最後に「.png、.jpg、.xlsx」等のファイル拡張子が表示されていればOKです。

## プログラム知識編

プログラミングに必要な超基礎的な内容の解説。ここら辺をしっかり理解していないと、後々の開発で大変な目にあう（体験談）ので注意する。分かる人は特に飛ばして貰っても構わないが、知らない単語がある場合は読んでもらった方がいい。

## 変数

言わずと知れた超基礎。ちょっとした追加情報もあるので知らない単語のある部分は読んで欲しい。

変数にはいくつかの種類があり、言語によってそれぞれ仕様が異なる。
基本的な事は同じなので、今回は我が校で習わされたであろうJavaとC#で解説する。

### まず変数とは何か？

変数を説明する時によく用いられる物が「箱」である。
箱にデータを入れ、その中身を参照（読み込み）したり、変更（書き込み）したり出来る。
変数はどんなデータが入るか設定できる場合がある。これが「型」と呼ばれるものである。

小難しくいうと、変数とはデータを格納する記憶域の事である。それぞれ固有の名前を持ち、設定に対応したデータが格納される。この設定が型と呼ばれる。

おまけとして解説すると、`定数`と呼ばれるものは、「値が変わらない」「変わってはいけない」という前提の物である。数学で何度か聞いたことがあるかもしれないが、それとほぼ同義で間違いない。
計算する時の円周率や、データ入力の際の上限や下限等、変更すると問題が起きる物に使われる。

例）

```Java
//Java
//変数
String greeting = "Hello, World!";
int num = 123;

//定数
final String GREETING_MSG = "Hello, World!";
```

Javaにおける標準的な変数と定数の宣言方法。
最初に型（データの種類）を指定して、その後に変数名を指定する。最後に値を代入する。
定数の場合は、`final`をつけ、アッパースネークケース（詳細は後に解説）で書く。

### 静的変数と動的変数

今回は静的な変数と動的な変数について解説するため、どちらの実装も可能なC#で例を書くものとする。

まず、変数には静的、動的という2つの種類がある。JavaやC++は静的型付けの言語であり、JavaScriptやPythonは動的型付けの言語である。実際には静的型付けでも実装方法によって動的な動きをすることもできるが、今回は除外する。

```C#
//C#(.Net6.0以降)
var greeting = "Hello World";
var num = 123;

var v = new { Amount = 108, Message = "Hello" };
Console.WriteLine(v.Amount + v.Message);
```

`var`で宣言された変数は動的な変数である。C#では匿名型と呼ばれている。
型推論を用いて、自分で定義しなくても自動で型が決まる。

変数`v`は定義していないが、実際は独自の型になっている。Visual Studioで確認するとvは*Anonymous Type*になっている。定義していないが、「そういう型があるもの」として扱われるのだ。
静的な場合の実装法だと下記のようになる。

```C#
//C#(.Net6.0以降)
public class MyClass {
  public int Amount = 108;
  public string Message = "Hello";  
}

//MyClassのインスタンスを作成してアクセスする
MyClass myClass = new();
Console.WriteLine(myClass.Amount + myClass.Message);

//独自型の型推論
var myClass2 = new MyClass();
Console.WriteLine(myClass2.Amount + myClass2.Message);
```

まず、自身でクラスを定義し、そのクラスのインスタンスを作成して、その中の値にアクセスしなければならない。
また、独自の型であっても`var`で宣言した場合は自動で型が決まる。Visual Studioで確認するとMyClassという型になっている。  
とても便利なものではあるが、むやみやたらに使うとコードの保守性が下がり、最悪バグの温床にもなりかねないので注意。  

型についての詳細は下記の記事が参考になる。  
[動的型付けと静的型付け](https://qiita.com/toryuneko/items/c023031b61886cae2a99)

### 変数の命名規則

変数は自由に名前を決める事が出来るため、その人の意志によって書き方が異なる。自己流だけで書いてしまうと、可読性（コードの読みやすさ）が下がり、開発に影響を与えてしまう事がある。特にチーム開発の時は、命名規則を決めておいた方が良い。

命名規則は調べれば意外と出てくるが、ここでは基本的な物を解説する。

|                            名称                            |       表記例       |                                     備考                                      |
| :--------------------------------------------------------: | :----------------: | :---------------------------------------------------------------------------: |
|           アッパーキャメルケース(パスカルケース)           |  `UpperCamelCase`  |             C#やPascal等で採用されていて、クラス名に多く使われる              |
| ローワーキャメルケース(単にキャメルケースと表すことが多い) |  `lowerCamelCase`  |                      JavaやJavaScript等で採用されている                       |
|                       スネークケース                       |    `snake_case`    |                 データベースやPython、Ruby等で採用されている                  |
|    アッパースネークケース(スクリーミングスネークケース)    | `UPPER_SNAKE_CASE` |                     定数や環境変数等に使われることが多い                      |
|                ケバブケース(チェーンケース)                |    `kebab-case`    | 「-」が演算子として使われることが多く、HTMLやCSS等の「-」が使える環境のみ使用 |

上記のテーブルを見てもらえば、どのように使うのかある程度分かると思う。
要は、単語間の空白をどう表現するかの違いである。
言語によっては、「変数や関数はキャメルケース、クラスはアッパーキャメルケース」のような複合的な形で採用され、見分けやすいようになっている場合が多い。

「言語名 命名規則」で調べると色々出てくる。

また、変数の名前の決め方は、より具体的な内容が良いとされる。詳しい内容は「リーダブルコード」という本に載っている。プログラムに関わる仕事をするなら、是非読んでおいて欲しい本。これを読むだけでだいぶ意識が変わってくる。  
2022年5月28日現在、Amazonで約2600円で販売されている。

本来は実際に読んでもらった方がいいが、軽く知りたい人は下記のサイトにまとめられているので参考にしてほしい。

[リーダブルコードまとめ(概要)](https://qiita.com/fkrw/items/7646563a2b238fbcff9a)

[リーダブルコードまとめ(より詳細)](https://wayasblog.com/readable-code/#toc1)

### 変数のスコープ

「スコープ」とは日本語で「有効範囲」の事。
要はその変数が何処から何処までの領域で参照出来る（使える）かを指す事。
言語の仕様によって差は出てくるが、基本的に宣言されたブロック内がスコープとなる。また、宣言した後の行でないと参照できない。  
for文をネストした際、ネストの外からネスト内で宣言された変数にアクセスできないのはこのため。

下記の記事が参考になる。  
[変数のスコープ](https://programming.pc-note.net/csharp/scope.html)

---

## 関数

こちらも言わずと知れた超基礎。本稿では主に引数と戻り値を解説する。分かる人は読み飛ばしても構わない。

### はじめに

プログラムというのは究極的に言えば、情報の「入力」と「出力」を行うものである。
関数は、独自の入力と出力を定義できるもので、これらを使ってシステムを構築していく。

関数にはそれぞれ、「引数」と「戻り値」がある。
「引数」は入力、「戻り値」は出力の役割を果たしている。

```Java
//Java
public class Main {
  public static void main(String[] args) {
    //インスタンスの作成
    Person person = new Person();
    int addAge = 5;
    
    person.setName("Taro");
    System.out.println(person.getName());     
    System.out.println(addAge + "年後の" + person.getName() + "は" + person.checkAddAge(addAge) + "歳です。");
    person.displayWelcomeMessage();
  }
}

//Personクラス
class Person{
  private String name;
  private int age = 20;

  //引数無し、戻り値あり
  //所謂ゲッター
  public String getName(){
    return this.name ;
  }
  
  //引数あり、戻り値無し
  //所謂セッター
  public void setName(String name){
    this.name = name;
  }

  //引数あり、戻り値あり
  //何年後に何歳かを返す関数
  public int checkAddAge(int addAge){
    int result = this.age + addAge ;
    return result;
  }

  //引数無し、戻り値無し
  //ウェルカムメッセージを表示する関数
  public void displayWelcomeMessage(){
    System.out.println("Welcome " + this.name);
  }
}
```

Personクラス内の`getName`、`setName`、`checkAddAge`、`displayWelcomeMessage`は全て関数である。
それぞれ引数や戻り値の有り無しでどのような事が出来るか表している。  
Javaにおける関数定義は、アクセス修飾子->戻り値の型指定->関数名->引数の指定、の順。  
尚アクセス修飾子は省略可能で、省略した場合`public`がデフォルトで指定されている。  
関数名は任意の関数名で指定する。  

### 戻り値

戻り値は関数内の`return`で指定した値を返す。静的な言語の場合は`return`の型にあったデータ型を関数で定義しなければならない。
戻り値がない場合は`void`を指定する。
また`return`には、その場で関数を終了させる効果も持つ。

```Java
//Java
public class Main {
  public static void main(String[] args) {
    System.out.println(arithmeticProgression(1,100,1));
  }

  //firstTerm（初項）,n(項数),tolerance(公差)から等差数列の和を求める関数
  public static int arithmeticProgression(int firstTerm, int n, int tolerance){
    int result = firstTerm;
    int tmp = firstTerm;
    for(int i = 1; i < n; i++){
      tmp += tolerance;
      result += tmp;

      //総和が100を超えたら値を返す
      if(result > 100){
        return result;
      }
    }
    return result;
  }
}
```

本来、上記のプログラムの場合、階差数列の和の答えは5050となるが、途中のif文で`return`を使って値を返しているので、処理が終了してしまう。

また、JavaScriptやPythonなど動的な言語の場合は、戻り値の型は指定せず、`return`で返した値がそのまま戻り値となる。 その為、型を混同して返すことも可能になってしまう。

```JavaScript
//JavaScript
//残高が足りる場合
console.log(balanceInquiry(100,1000))
console.log(typeof(balanceInquiry(100,1000)))

//残高が足りない場合
console.log(balanceInquiry(1000,100))
console.log(typeof(balanceInquiry(1000,100)))

//残高を照会する関数、引数は支払い金額、残高で戻り値は支払えれば残高、支払えなければメッセージを返す
function balanceInquiry(pay, balance){
  if(pay > balance){
    return "残高が足りません"
  }else{
    return balance-pay
  }    
}

//実行結果
// 900
// number
// 残高が足りません
// string
```

上記のプログラムは、残高が足りない場合と足りる場合で返す値の型が異なっている。JavaScriptの`typeof関数`は、その値の型を返してくれる関数である。それぞれの実行結果において型が変わっているのが分かる。関数自体は問題なく動くが、こういった実装法は、後々のメンテナンスや大変になりバグやエラーの原因になる可能性が高くなってしまうため、出来るだけ避けて欲しい。

### 引数

関数の入力部分には引数が使われる。JavaやC++、TypeScript等の言語において引数は「引数名」と「引数の型」の2つを、JavaScriptやPython等の動的な言語では、「引数名」のみのを指定する。指定方法は言語によって異なるため、別途調べて欲しい。  
また、関数で定義した引数の事を「仮引数」「parameter（パラメータ）」、関数を呼び出して渡した引数を「実引数」「argument（アーギュメント）」と呼ぶ。

引数にはいくつかのオプションが備わっている場合が多い。「デフォルト引数」や「名前付き引数」等があるが、言語によって様々なのでここでは割愛する。

## 最後に

以上で、基礎についての解説を終わります。  
誤字脱字や間違っていると思われる箇所については、issueを立てて貰えると助かります。
サークル用のテキストなので、分からない箇所や質問についてはサークル内で使用しているコミュニケーションツールでお願いします。
